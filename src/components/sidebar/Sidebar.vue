<template>
  <div :class="[
    'absolute sm:static z-50 bg-[#fff] rounded-xl p-5 text-black  shadow-r-xl h-dvh transition-all duration-300  block',
    isOpen ? 'sm:w-64' : 'sm:w-30'
  ]">

    <div class="p-2 mb-10">
      <button @click="openSidebar"  class="w-full flex pl-3 justify-start text-gray-700 mb-10">
        <ArrowLeftFromLine :size="22" v-if="isOpen" />
        <ArrowRightFromLine :size="22" v-else />
      </button>
      <div class="mb-10" v-if="isOpen">
        <svg width="138" height="17" viewBox="0 0 138 17" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M117.939 6.7438V17H121.406V10.1625H134.087V17H137.554V6.7438H117.939ZM121.01 3.41873H134.384C136.266 3.09091 137.604 1.49862 138 0H117.394C117.79 1.49862 119.177 3.04408 121.01 3.41873ZM107.388 17C109.122 16.2975 110.063 15.0799 110.459 13.6749H94.8563V0.046832H91.3394V17H107.388ZM65.3343 3.3719H77.7177C79.6 2.85675 81.1355 1.49862 81.5318 0.046832H61.9165V10.0689H77.9654V13.5813H65.3839C63.4025 14.0964 61.7184 15.3609 60.8763 17H81.4327V6.7438H65.3839L65.3343 3.3719ZM34.8217 3.41873H48.1958C50.078 3.09091 51.465 1.49862 51.8117 0H31.1562C31.5525 1.49862 32.9395 3.04408 34.8217 3.41873ZM34.8217 10.1157H48.1958C50.078 9.78788 51.465 8.19559 51.8117 6.69697H31.1562C31.5525 8.19559 32.9395 9.74105 34.8217 10.1157ZM34.8217 17H48.1958C50.078 16.6722 51.465 15.0799 51.8117 13.5813H31.1562C31.5525 15.0799 32.9395 16.6722 34.8217 17Z"
            fill="#E51837" />
          <path
            d="M0 0.0468319C0.396268 1.54545 1.7832 3.04408 3.61594 3.41873H9.26276L9.55996 3.5124V16.9532H13.0768V3.5124L13.374 3.41873H19.0208C20.9031 2.95041 22.2405 1.54545 22.6368 0.0468319V0L0 0.0468319Z"
            fill="#E51837" />
        </svg>
      </div>
      <div class="space-y-5 mb-10">
        <div
          class="group hover:text-blue-500 flex  gap-3 items-center hover:bg-blue-700/10 rounded-xl p-3 cursor-pointer">
          <svg width="22" height="12" viewBox="0 0 22 12" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M15.6657 0.85L17.2059 2.29L11.9864 7.17L8.46757 3.88C8.05044 3.49 7.37662 3.49 6.95949 3.88L0.542096 9.89C0.124965 10.28 0.124965 10.91 0.542096 11.3C0.959226 11.69 1.63305 11.69 2.05018 11.3L7.70818 6L11.227 9.29C11.6442 9.68 12.318 9.68 12.7351 9.29L18.714 3.71L20.2542 5.15C20.5857 5.46 21.1633 5.24 21.1633 4.8V0.5C21.174 0.22 20.9387 0 20.6392 0H16.0508C15.5695 0 15.3342 0.54 15.6657 0.85Z"
              class=" group-hover:fill-blue-500 " fill="black" fill-opacity="0.7" />
          </svg>
          <p v-if="isOpen">Report</p>

        </div>
        <div class="group hover:text-blue-500 flex gap-3 hover:bg-blue-700/10 rounded-xl p-3 cursor-pointer">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M11.0475 20.2647V14.2085H7.42968C6.92645 14.2085 6.58643 13.6234 6.83124 13.1406L11.8363 2.65189C12.1491 1.96435 13.1148 2.21304 13.1148 2.98835V9.11774H16.5694C17.0726 9.11774 17.399 9.68826 17.1814 10.171L12.3396 20.5866C12.0131 21.2887 11.0475 21.0401 11.0475 20.2647Z"
              class=" group-hover:fill-blue-500 " fill="black" fill-opacity="0.7" />
          </svg>

          <p v-if="isOpen">Libery</p>

        </div>
        <div class="group hover:text-blue-500 flex gap-3 hover:bg-blue-700/10 rounded-xl p-3 cursor-pointer">
          <svg width="27" height="24" viewBox="0 0 27 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M12.337 8C12.337 9.66 10.8913 11 9.08697 11C7.28262 11 5.8261 9.66 5.8261 8C5.8261 6.34 7.28262 5 9.08697 5C10.8913 5 12.337 6.34 12.337 8ZM21.0326 8C21.0326 9.66 19.587 11 17.7826 11C15.9783 11 14.5217 9.66 14.5217 8C14.5217 6.34 15.9783 5 17.7826 5C19.587 5 21.0326 6.34 21.0326 8ZM9.08697 13C6.55436 13 1.47827 14.17 1.47827 16.5V18C1.47827 18.55 1.9674 19 2.56523 19H15.6087C16.2065 19 16.6957 18.55 16.6957 18V16.5C16.6957 14.17 11.6196 13 9.08697 13ZM16.7283 13.05C17.1087 13.02 17.4674 13 17.7826 13C20.3152 13 25.3913 14.17 25.3913 16.5V18C25.3913 18.55 24.9022 19 24.3044 19H18.6739C18.7935 18.69 18.8696 18.35 18.8696 18V16.5C18.8696 15.03 18.0109 13.92 16.7717 13.09C16.7685 13.087 16.7652 13.083 16.7616 13.0787C16.7533 13.0688 16.7434 13.057 16.7283 13.05Z"
              class=" group-hover:fill-blue-500 " fill="black" fill-opacity="0.7" />
          </svg>

          <p v-if="isOpen">People</p>

        </div>
        <div
          class="group hover:text-blue-500 flex  gap-3 items-center hover:bg-blue-700/10 rounded-xl p-3 cursor-pointer">
          <svg width="23" height="18" viewBox="0 0 23 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M20.1305 0H2.73916C1.54351 0 0.565247 0.9 0.565247 2V16C0.565247 17.1 1.54351 18 2.73916 18H20.1305C21.3261 18 22.3044 17.1 22.3044 16V2C22.3044 0.9 21.3261 0 20.1305 0ZM8.17394 14H4.91307C4.31525 14 3.82612 13.55 3.82612 13C3.82612 12.45 4.31525 12 4.91307 12H8.17394C8.77177 12 9.2609 12.45 9.2609 13C9.2609 13.55 8.77177 14 8.17394 14ZM8.17394 10H4.91307C4.31525 10 3.82612 9.55 3.82612 9C3.82612 8.45 4.31525 8 4.91307 8H8.17394C8.77177 8 9.2609 8.45 9.2609 9C9.2609 9.55 8.77177 10 8.17394 10ZM8.17394 6H4.91307C4.31525 6 3.82612 5.55 3.82612 5C3.82612 4.45 4.31525 4 4.91307 4H8.17394C8.77177 4 9.2609 4.45 9.2609 5C9.2609 5.55 8.77177 6 8.17394 6ZM18.7174 8.12L15.2718 11.29C14.8479 11.68 14.1522 11.68 13.7283 11.29L12.1957 9.87C11.7718 9.48 11.7718 8.85 12.1957 8.46C12.6196 8.07 13.3044 8.07 13.7283 8.46L14.5 9.17L17.1848 6.7C17.6087 6.31 18.2935 6.31 18.7174 6.7L18.7283 6.71C19.1413 7.1 19.1413 7.74 18.7174 8.12Z"
              class=" group-hover:fill-blue-500 " fill="black" fill-opacity="0.7" />
          </svg>

          <p v-if="isOpen">Activities</p>

        </div>
      </div>
      <div class="space-y-5 ">
        <p v-if="isOpen">Support</p>
        <div class="group hover:text-blue-500 flex gap-3 hover:bg-blue-700/10 rounded-xl p-3 cursor-pointer">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M12.0001 3C11.5401 3 11.0701 3.04 10.6001 3.14C7.84007 3.67 5.64007 5.9 5.12007 8.66C4.64007 11.27 5.60007 13.67 7.34007 15.22C7.77007 15.6 8.00007 16.13 8.00007 16.69V19C8.00007 20.1 8.90007 21 10.0001 21H10.2801C10.6301 21.6 11.2601 22 12.0001 22C12.7401 22 13.3801 21.6 13.7201 21H14.0001C15.1001 21 16.0001 20.1 16.0001 19V16.69C16.0001 16.14 16.2201 15.6 16.6401 15.23C18.0901 13.95 19.0001 12.08 19.0001 10C19.0001 6.13 15.8701 3 12.0001 3ZM12.5001 14H11.5001V11.41L9.67007 9.59L10.3801 8.88L12.0001 10.5L13.6201 8.88L14.3301 9.59L12.5001 11.42V14ZM13.5001 19C13.4901 19 13.4801 18.99 13.4701 18.99V19H10.5301V18.99C10.5201 18.99 10.5101 19 10.5001 19C10.2201 19 10.0001 18.78 10.0001 18.5C10.0001 18.22 10.2201 18 10.5001 18C10.5101 18 10.5201 18.01 10.5301 18.01V18H13.4701V18.01C13.4801 18.01 13.4901 18 13.5001 18C13.7801 18 14.0001 18.22 14.0001 18.5C14.0001 18.78 13.7801 19 13.5001 19ZM13.5001 17H10.5001C10.2201 17 10.0001 16.78 10.0001 16.5C10.0001 16.22 10.2201 16 10.5001 16H13.5001C13.7801 16 14.0001 16.22 14.0001 16.5C14.0001 16.78 13.7801 17 13.5001 17Z"
              class=" group-hover:fill-blue-500 " fill="black" fill-opacity="0.7" />
          </svg>
          <p v-if="isOpen">Get Stared</p>
        </div>
        <div class="group hover:text-blue-500 flex gap-3 hover:bg-blue-700/10 rounded-xl p-3 cursor-pointer">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_219_463)">
              <path
                d="M19.4301 12.98C19.4701 12.66 19.5001 12.34 19.5001 12C19.5001 11.66 19.4701 11.34 19.4301 11.02L21.5401 9.37C21.7301 9.22 21.7801 8.95 21.6601 8.73L19.6601 5.27C19.5401 5.05 19.2701 4.97 19.0501 5.05L16.5601 6.05C16.0401 5.65 15.4801 5.32 14.8701 5.07L14.4901 2.42C14.4601 2.18 14.2501 2 14.0001 2H10.0001C9.75008 2 9.54008 2.18 9.51008 2.42L9.13008 5.07C8.52008 5.32 7.96008 5.66 7.44008 6.05L4.95008 5.05C4.72008 4.96 4.46008 5.05 4.34008 5.27L2.34008 8.73C2.21008 8.95 2.27008 9.22 2.46008 9.37L4.57008 11.02C4.53008 11.34 4.50008 11.67 4.50008 12C4.50008 12.33 4.53008 12.66 4.57008 12.98L2.46008 14.63C2.27008 14.78 2.22008 15.05 2.34008 15.27L4.34008 18.73C4.46008 18.95 4.73008 19.03 4.95008 18.95L7.44008 17.95C7.96008 18.35 8.52008 18.68 9.13008 18.93L9.51008 21.58C9.54008 21.82 9.75008 22 10.0001 22H14.0001C14.2501 22 14.4601 21.82 14.4901 21.58L14.8701 18.93C15.4801 18.68 16.0401 18.34 16.5601 17.95L19.0501 18.95C19.2801 19.04 19.5401 18.95 19.6601 18.73L21.6601 15.27C21.7801 15.05 21.7301 14.78 21.5401 14.63L19.4301 12.98ZM12.0001 15.5C10.0701 15.5 8.50008 13.93 8.50008 12C8.50008 10.07 10.0701 8.5 12.0001 8.5C13.9301 8.5 15.5001 10.07 15.5001 12C15.5001 13.93 13.9301 15.5 12.0001 15.5Z"
                class=" group-hover:fill-blue-500 " fill="black" fill-opacity="0.7" />
            </g>
            <defs>
              <clipPath id="clip0_219_463">
                <rect width="24" height="24" fill="white" />
              </clipPath>
            </defs>
          </svg>
          <p v-if="isOpen">Settings</p>
        </div>
      </div>

    </div>
    <div class="mt-auto bg-[#fff]">
      <UserInfo v-if="isOpen" />
    </div>

  </div>

</template>
<script setup>
import { ref, onMounted, onBeforeUnmount } from 'vue';
import UserInfo from './UserInfo.vue';
import { ArrowRightFromLine, ArrowLeftFromLine } from 'lucide-vue-next'
const isOpen = ref(true);
const props = defineProps({
  showSidebar: Boolean
})
const openSidebar = () => {
  isOpen.value = !isOpen.value;
};

const checkScreen = () => {
  if (window.innerWidth < 1280) {
    isOpen.value = false;
  } else {
    isOpen.value = true
  }

};

onMounted(() => {
  checkScreen();
  window.addEventListener('resize', checkScreen);
});

onBeforeUnmount(() => {
  window.removeEventListener('resize', checkScreen);
});
</script>
